!function(t){function e(e){for(var r,a,d=e[0],s=e[1],l=e[2],h=0,p=[];h<d.length;h++)a=d[h],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&p.push(i[a][0]),i[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);for(c&&c(e);p.length;)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,d=1;d<n.length;d++){var s=n[d];0!==i[s]&&(r=!1)}r&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},i={0:0},o=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var d=window.webpackJsonp=window.webpackJsonp||[],s=d.push.bind(d);d.push=e,d=d.slice();for(var l=0;l<d.length;l++)e(d[l]);var c=s;o.push([27,1]),n()}({14:function(t,e,n){},27:function(t,e,n){"use strict";n.r(e);n(14);var r=n(1);let i={distance:30,densityData:[],zoomState:null,zoomExtent:[1,8],screen:{},ext:{},array:{},colors:{gradientA:r.rgb(0,0,0),gradientB:r.rgb(60,60,60),contours:r.rgb(255,255,255,.5),tokens:r.rgb(255,255,255,.5),nodes:r.rgb(255,255,255,.5)},tokens:{}};var o=n.p+"nodes.json",a=n.p+"links.json",d=(n(28),n(0));let l,c;const h='<tr><th colspan="2"><hr></th></tr>',p='<span class="block"></span>';let u,f,g,w;function y(){const t=new d.Graphics;u=i.pixi.addChild(t);new d.TextStyle({fontFamily:"Arial",fontSize:6,fill:"white"});i.nodes.forEach(e=>{e.gpx=new d.Graphics,e.gpx.beginFill(16777215),e.gpx.drawCircle(0,0,1),e.gpx.endFill(),t.addChild(e.gpx),e.gpx.interactive=!0,e.gpx.hitArea=new d.Circle(0,0,20),e.gpx.mouseover=t=>{!function(t){const e=document.createElement("div");e.id="focus",document.querySelector("body").append(e);const n=document.createElement("div"),r=document.createElement("div"),i=document.createElement("div");n.className="left",r.className="middle",i.className="right";let o="<table>";o+='<tr><td style="width:80px"></td><td style="width:80px"></td></tr>',o+=`<tr><td colspan="2" style="text-align:center;"><h1>${t.name}</h1></td></tr>`,o+=`<tr><td colspan="2" style="text-align:center;">${t.docs} publications</td></tr>`,o+='<tr style="height:10px"><td></td><td></td></tr>',o+='<tr><td colspan="2" style="text-align:center;">Tokens by tf-idf</td></tr>',o+=h,o+=Object.entries(t.tokens).reduce((t,e,n)=>{if(n<10){const n=e[1]/10,r=p.repeat(n);t+=`<tr><td style="text-align: right;">${e[0]}</td><td>${r}</td></tr>`}return t},[]),o+="</table>";let a="<table>";a+='<tr><td style="text-align:center;">List of co-authors</td></tr>',a+=h,t.peers.forEach(t=>{const e=s.nodes.find(e=>e.id==t);void 0!==e&&(a+=`<tr><td>${e.name}</td></tr>`)}),a+="</table>";let d="<table>";d+='<tr><td style="width:20px"></td><td style="width:50px"></td></tr>',d+='<tr><td colspan="2" style="text-align:center;">Publications by year</td></tr>',d+=h;for(let e=s.ext.years.min;e<=s.ext.years.max;e++){const n=void 0===t.years[e]?0:2*t.years[e];d+=`<tr><td style="text-align: right;">${e}</td><td>${p.repeat(n)}</td></tr>`}d+="</table>",n.insertAdjacentHTML("beforeend",d),r.insertAdjacentHTML("beforeend",a),i.insertAdjacentHTML("beforeend",o),e.append(n),e.append(r),e.append(i)}(e)},e.gpx.mouseout=t=>{document.querySelector("#focus").remove()}})}function x(){!function(){l.clear(),l.alpha=.8,i.densityData=d3.contourDensity().x(t=>t.x).y(t=>t.y).weight(t=>t.relevancy).size([window.innerWidth,window.innerHeight]).cellSize(5).bandwidth(40).thresholds(15)(i.nodes);const t=.8/i.densityData.length;let e=1;for(let n=i.densityData.length-1;n>=0;n--){const r=.8-t*e;l.lineStyle(r,16777215),e+=1,i.densityData[n].coordinates.forEach(t=>{t.forEach(t=>{t.forEach(([t,e],n)=>{0==n&&l.moveTo(t,e),l.lineTo(t,e)})}),l.closePath()})}}(),u.clear(),u.alpha=.8,i.nodes.forEach(t=>{const{x:e,y:n,gpx:r,txt:i}=t;r.position=new d.Point(e,n)}),i.links.forEach(t=>{if(!t.txt)return;const e=Math.abs(t.source.x-t.target.x),n=Math.abs(t.source.y-t.target.y),r=Math.pow(e,2)+Math.pow(n,2),i=t.txt;if(g<r&&r<w){const r=e/2+Math.min(t.source.x,t.target.x),o=n/2+Math.min(t.source.y,t.target.y);i.position.set(r-i.width/2,o-i.height/2)}else i.position.set(1/0,1/0)})}var b=n(12),m=n(13),v=n.n(m);window.d3=r,window.s=i,Promise.all([r.json(o),r.json(a)]).then(([t,e])=>{i.links=e,i.nodes=t,console.log("nodes",i.nodes.length),console.log("links",i.links.length),(()=>{const t=s.nodes.map(t=>Object.keys(t.years).map(Number)).flat();s.ext.years={min:Math.min(...t),max:Math.max(...t)},window.addEventListener("wheel",t=>{t.preventDefault()},{passive:!1})})(),(()=>{const t=new d.Application({width:window.innerWidth,height:window.innerHeight,antialias:!0,transparent:!0,resolution:2,autoDensity:!0,autoResize:!0});document.body.prepend(t.view),i.pixi=t.stage;const e=new b.a({screenWidth:window.innerWidth,screenHeight:window.innerHeight,worldWidth:1e3,worldHeight:1e3,interaction:t.renderer.plugins.interaction});t.stage.addChild(e),i.pixi=e,e.drag().pinch().wheel().decelerate()})(),(()=>{const t=v()({every:1});setInterval(()=>{t.tick()},1e3/60);const e=document.getElementById("fps");t.on("data",(function(t){e.innerHTML=Math.floor(parseInt(t))}))})(),function(){const t=new d.Graphics;l=i.pixi.addChild(t)}(),function(){const t=new d.Graphics;c=i.pixi.addChild(t)}(),y(),function(){const t=new d.Graphics;f=i.pixi.addChild(t),g=Math.pow(2*i.distance-2,2),w=Math.pow(2*i.distance+2,2);const e=new d.TextStyle({fontFamily:"Arial",fontSize:24,fill:"white",align:"center"});i.links.forEach(t=>{if(t.value<.1)return;const[n,r]=Object.entries(t.tokens)[0],i=7e-4*r;t.txt=new d.Text(n,e),t.txt.scale.set(i),f.addChild(t.txt)})}(),(()=>{const t=document.createElement("canvas");t.id="background",t.width=window.innerWidth,t.height=window.innerHeight,document.querySelector("body").prepend(t);const e=t.getContext("2d",{alpha:!1}),n=e.createRadialGradient(t.width/2,t.width/2,0,t.width/2,t.height/2,t.width/2);n.addColorStop(1,s.colors.gradientA),n.addColorStop(0,s.colors.gradientB),e.fillStyle=n,e.fillRect(0,0,t.width,t.height)})(),r.forceSimulation().force("collide",r.forceCollide().radius(i.distance).strength(.5).iterations(20)).force("center",r.forceCenter(window.innerWidth/2,window.innerHeight/2)).force("link",r.forceLink().id(t=>t.id).strength(t=>1*t.value)).nodes(i.nodes).on("tick",x).force("link").links(i.links)})}});